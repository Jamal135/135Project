{"version":3,"file":"main.js","sourceRoot":"","sources":["../ts/main.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,0BAA0B;AAC1B,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,UAAU,KAAK;IAC3D,IAAI,SAAS,GAAG,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;IAClD,IAAI,SAAS;QAAE,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC;AACzD,CAAC,CAAC,CAAC;AAEH,MAAM,CAAC,cAAc,GAAG,UAAU,CAAC;IACjC,YAAY,CAAC,OAAO,CAAC,WAAW,EAAE,UAAG,MAAM,CAAC,OAAO,CAAE,CAAC,CAAC;AACzD,CAAC,CAAC;AAEF,iBAAiB;AACjB,IAAM,MAAM,GAAG;IACb,MAAM,EAAE;QACN,OAAO,EAAE,SAAS;QAClB,SAAS,EAAE,SAAS;QACpB,SAAS,EAAE,6BAA6B;KACzC;IACD,MAAM,EAAE;QACN,OAAO,EAAE,SAAS;QAClB,SAAS,EAAE,SAAS;QACpB,SAAS,EAAE,6BAA6B;KACzC;IACD,MAAM,EAAE;QACN,OAAO,EAAE,SAAS;QAClB,SAAS,EAAE,SAAS;QACpB,SAAS,EAAE,6BAA6B;KACzC;IACD,KAAK,EAAE;QACL,OAAO,EAAE,SAAS;QAClB,SAAS,EAAE,SAAS;QACpB,SAAS,EAAE,4BAA4B;KACxC;IACD,KAAK,EAAE;QACL,OAAO,EAAE,SAAS;QAClB,SAAS,EAAE,SAAS;QACpB,SAAS,EAAE,4BAA4B;KACxC;IACD,KAAK,EAAE;QACL,OAAO,EAAE,SAAS;QAClB,SAAS,EAAE,SAAS;QACpB,SAAS,EAAE,4BAA4B;KACxC;IACD,IAAI,EAAE;QACJ,OAAO,EAAE,SAAS;QAClB,SAAS,EAAE,SAAS;QACpB,SAAS,EAAE,2BAA2B;KACvC;IACD,IAAI,EAAE;QACJ,OAAO,EAAE,SAAS;QAClB,SAAS,EAAE,SAAS;QACpB,SAAS,EAAE,2BAA2B;KACvC;IACD,GAAG,EAAE;QACH,OAAO,EAAE,SAAS;QAClB,SAAS,EAAE,SAAS;QACpB,SAAS,EAAE,0BAA0B;KACtC;CACF,CAAC;AAKF,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE;IACjC,IAAM,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAG,EAAW,CAAC;IACzC,YAAY,CAAC,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;IACrC,SAAS,EAAE,CAAC;AACd,CAAC,CAAC,CAAC;AAEH,SAAS,SAAS;IAChB,IAAM,KAAK,GAAG,YAAY,CAAC,OAAO,CAAC,OAAO,CAAU,CAAC;IACrD,IAAI,CAAC,KAAK;QAAE,OAAO;IACnB,IAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAoB,CAAC;IAChE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,WAAW,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;IAC9D,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,aAAa,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;IAClE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,aAAa,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;AACpE,CAAC;AACD,SAAS,EAAE,CAAC;AAEZ,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE;;IAC5C,IAAM,KAAK,GAAG,MAAA,YAAY,CAAC,OAAO,CAAC,OAAO,CAAiB,mCAAI,MAAM,CAAC;IACrE,CAAC,CAAC,QAAQ,CAAkG,CAAC,YAAY,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;AAC3I,CAAC,CAAC,CAAC;AAEH,kBAAkB;AAClB,SAAS,cAAc,CAAC,aAAqB;IAC3C,IAAM,MAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAsB,CAAC;IAC3E,IAAI,MAAM;QAAE,MAAM,CAAC,KAAK,GAAG,EAAE,CAAC;AAChC,CAAC;AAED,SAAS,WAAW;IAClB,IAAM,iBAAiB,GAAG,QAAQ,CAAC,cAAc,CAAC,YAAY,CAAsB,CAAC;IACrF,IAAM,gBAAgB,GAAG,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAsB,CAAC;IACnF,IAAI,iBAAiB,IAAI,gBAAgB,EAAE;QACzC,IAAM,IAAI,GAAG,iBAAiB,CAAC,KAAK,CAAC;QACrC,gBAAgB,CAAC,KAAK,GAAG,IAAI,CAAC;KAC/B;AACH,CAAC;AAED,SAAS,eAAe;IACtB,IAAM,QAAQ,GAAG,QAAQ,CAAC,cAAc,CAAC,YAAY,CAAsB,CAAC;IAC5E,IAAI,CAAC,QAAQ;QAAE,OAAO;IACtB,QAAQ,CAAC,MAAM,EAAE,CAAC;IAClB,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;AAC/B,CAAC;AAED,IAAM,KAAK,GAAG,UAAC,GAAW,EAAE,KAAS,EAAE,IAAQ;IAAnB,sBAAA,EAAA,SAAS;IAAE,qBAAA,EAAA,QAAQ;IAC7C,IAAM,IAAI,GAAG,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC;IACnC,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,UAAA,GAAG,IAAI,OAAA,GAAG,GAAG,IAAI,EAAV,CAAU,CAAC,CAAC;AAC9D,CAAC,CAAA;AAED,SAAS,iBAAiB,CAAC,IAAc,EAAE,IAAc;IACvD,KAAgB,UAAkB,EAAlB,KAAA,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,EAAlB,cAAkB,EAAlB,IAAkB,EAAE;QAA/B,IAAM,CAAC,SAAA;QACV,IAAM,MAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAsB,CAAC;QACrE,IAAM,MAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAsB,CAAC;QACrE,IAAI,CAAC,MAAM,IAAI,CAAC,MAAM;YAAE,MAAM;QAC9B,IAAM,cAAc,GAAG,MAAM,CAAC,KAAK,CAAC;QACpC,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;QAC5B,MAAM,CAAC,KAAK,GAAG,cAAc,CAAC;KAC/B;AACH,CAAC;AAED,sBAAsB;AACtB,CAAC,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC;IAAA,iBA4EjB;IA3EC,IAAI,aAAiC,CAAC;IACtC,IAAM,IAAI,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC;IAC9B,IAAM,IAAI,GAAG,QAAQ,CAAC,cAAc,CAAC,iBAAiB,CAA2B,CAAC;IAClF,CAAC,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC;QACvB,aAAa,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACvC,CAAC,CAAC,CAAC;IACH,IAAI,IAAI;QAAE,IAAI,CAAC,QAAQ,GAAG,UAAO,CAAC;;;;;;wBAChC,CAAC,CAAC,cAAc,EAAE,CAAC;wBAEnB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,aAAa,aAAb,aAAa,cAAb,aAAa,GAAI,IAAI,CAAC,CAAC;wBACnC,GAAG,GAAG,MAAA,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,QAAQ,CAAC,0CAAE,WAAW,CAAC;wBAEhE,IAAI,CAAC,GAAG;4BAAE,sBAAO;wBACX,oBAAoB,GAAG,QAAQ,CAAC,sBAAsB,CAAC,cAAc,CAAuD,CAAC;wBAC7H,gBAAgB,GAAG,MAAM,CAAC,OAAO,CAAC,oBAAoB,CAAC,CAAC,MAAM,CAAC,UAAC,EAAY;gCAAX,GAAG,QAAA,EAAE,KAAK,QAAA;4BAC/E,IAAI;gCACF,IAAM,CAAC,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC;gCACxB,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;6BAClB;4BACD,WAAM;gCACJ,OAAO,KAAK,CAAC;6BACd;wBACH,CAAC,CAAC,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,EAAS;;gCAAN,KAAK,QAAA;4BAAM,OAAA,uBAAM,GAAG,gBAAG,KAAK,CAAC,EAAE,IAAG,KAAK,CAAC,KAAK,OAAG;wBAArC,CAAqC,EAAE,EAA4B,CAAC,CAAC;wBAE7F,SAAS,GAAG,CAAC,CAAC,eAAe,CAAC,CAAC;wBAC/B,QAAQ,GAAG,CAAC,CAAC,cAAc,CAAC,CAAC;wBAEnC,eAAe;wBACf,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,gBAAgB,CAAC,CAAC;wBAC1C,SAAS,CAAC,OAAO,EAAE,CAAC,OAAO,CAAC,UAAA,IAAI,IAAM,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;wBAE/C,qBAAM,KAAK,CAAC,GAAG,EAAE;gCAC9B,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC,kBAAkB,CAAC,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE;oCAChE,cAAc,EACZ,kDAAkD;iCACrD;6BACF,CAAC,EAAA;;wBALI,MAAM,GAAG,SAKb;6BAEE,MAAM,CAAC,EAAE,EAAT,wBAAS;wBACE,qBAAM,MAAM,CAAC,IAAI,EAAE,EAAA;;wBAA1B,SAAO,SAAmB;wBAChC,IAAI,OAAO,MAAI,IAAI,QAAQ,IAAI,MAAI,CAAC,KAAK,EAAE;4BACzC,OAAO,MAAI,CAAC,KAAK,CAAC;4BAClB,6CAA6C;4BAC7C,SAAS,CAAC,OAAO,EAAE,CAAC,OAAO,CAAC,UAAA,OAAO;;gCACjC,IAAM,SAAS,GAAG,MAAA,MAAA,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,0CAAG,CAAC,CAAC,mCAAI,EAAE,CAAC;gCAC5D,IAAI,OAAO,MAAI,CAAC,SAAS,CAAC,KAAK,QAAQ;oCAAE,OAAO,CAAC,SAAS,GAAG,MAAI,CAAC,SAAS,CAAC,CAAC;4BAC/E,CAAC,CAAC,CAAC;4BACH,SAAS,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;4BAC9B,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,gBAAgB,CAAC,CAAA;4BACxC,sBAAO;yBACR;wBAEK,UAAU,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC;wBACpC,IAAI,MAAI,YAAY,KAAK,EAAE;4BACzB,UAAU,CAAC,GAAG,CAAC,MAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;yBAChC;6BAAM,IAAI,OAAO,MAAI,KAAK,QAAQ,EAAE;4BACnC,UAAU,CAAC,GAAG,CAAC,MAAM;iCAClB,OAAO,CAAC,MAAI,CAAC;iCACb,GAAG,CAAC,UAAC,EAAY;oCAAX,GAAG,QAAA,EAAE,KAAK,QAAA;gCACf,OAAA,eAAQ,GAAG,sBAAY,KAAK,CAAE;4BAA9B,CAA8B,CAAC;iCAChC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;yBACf;6BAAM;4BACL,UAAU,CAAC,GAAG,CAAC,UAAG,MAAI,CAAE,CAAC,CAAC;yBAC3B;wBACD,CAAC,CAAC,cAAc,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;wBAChC,UAAU,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC;wBACpC,UAAU,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;wBAC/B,IAAI,MAAI,KAAK,0BAA0B;4BACrC,UAAU,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;6BACnC;4BACH,UAAU,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;4BACnC,SAAS,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;yBAC/B;;;;;aAEJ,CAAA;AACH,CAAC,CAAC,CAAC","sourcesContent":["type HTMLValuedElement = HTMLElement & { value: string, select: () => void } | null;\n\n// Website Scroll Position\ndocument.addEventListener(\"DOMContentLoaded\", function (event) {\n  let scrollpos = localStorage.getItem(\"scrollpos\");\n  if (scrollpos) window.scrollTo(0, parseInt(scrollpos));\n});\n\nwindow.onbeforeunload = function (e) {\n  localStorage.setItem(\"scrollpos\", `${window.scrollY}`);\n};\n\n// Website Themes\nconst themes = {\n  purple: {\n    primary: \"#4c237e\",\n    secondary: \"#2e154c\",\n    homeimage: \"url(images/home_purple.png)\",\n  },\n  orange: {\n    primary: \"#d3671d\",\n    secondary: \"#7f3e11\",\n    homeimage: \"url(images/home_orange.png)\",\n  },\n  yellow: {\n    primary: \"#e0b12d\",\n    secondary: \"#8d6d15\",\n    homeimage: \"url(images/home_yellow.png)\",\n  },\n  brown: {\n    primary: \"#a16b4c\",\n    secondary: \"#61402e\",\n    homeimage: \"url(images/home_brown.png)\",\n  },\n  black: {\n    primary: \"#3b363f\",\n    secondary: \"#232026\",\n    homeimage: \"url(images/home_black.png)\",\n  },\n  green: {\n    primary: \"#249465\",\n    secondary: \"#16593d\",\n    homeimage: \"url(images/home_green.png)\",\n  },\n  pink: {\n    primary: \"#fa4664\",\n    secondary: \"#bb0523\",\n    homeimage: \"url(images/home_pink.png)\",\n  },\n  blue: {\n    primary: \"#2575aa\",\n    secondary: \"#164666\",\n    homeimage: \"url(images/home_blue.png)\",\n  },\n  red: {\n    primary: \"#c95252\",\n    secondary: \"#812828\",\n    homeimage: \"url(images/home_red.png)\",\n  },\n};\n\ntype Theme = keyof typeof themes;\ntype ThemeData = typeof themes[Theme];\n\n$(document).on(\"change\", \"#theme\", function () {\n  const theme = $(\"#theme\").val() as Theme;\n  localStorage.setItem(\"theme\", theme);\n  loadTheme();\n});\n\nfunction loadTheme() {\n  const theme = localStorage.getItem(\"theme\") as Theme;\n  if (!theme) return;\n  const root = document.querySelector(\":root\") as HTMLBodyElement;\n  root.style.setProperty(\"--primary\", themes[theme][\"primary\"]);\n  root.style.setProperty(\"--secondary\", themes[theme][\"secondary\"]);\n  root.style.setProperty(\"--homeimage\", themes[theme][\"homeimage\"]);\n}\nloadTheme();\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  const theme = localStorage.getItem(\"theme\") as Theme | null ?? \"pink\";\n  ($(\"#theme\") as unknown as HTMLElement & { selectpicker: (val: string, theme: keyof typeof themes) => void }).selectpicker(\"val\", theme);\n});\n\n// Form JS Buttons\nfunction eraseInputText(targetelement: string) {\n  const target = document.getElementById(targetelement) as HTMLValuedElement;\n  if (target) target.value = \"\";\n}\n\nfunction moveToInput() {\n  const outputTextElement = document.getElementById(\"outputtext\") as HTMLValuedElement;\n  const inputTextElement = document.getElementById(\"inputtext\") as HTMLValuedElement;\n  if (outputTextElement && inputTextElement) {\n    const text = outputTextElement.value;\n    inputTextElement.value = text;\n  }\n}\n\nfunction copyToClipboard() {\n  const textarea = document.getElementById(\"outputtext\") as HTMLValuedElement;\n  if (!textarea) return;\n  textarea.select();\n  document.execCommand(\"copy\");\n}\n\nconst range = (end: number, start = 0, step = 1) => {\n  const keys = new Array(end).keys();\n  return Array.from(keys).slice(start).map(val => val * step);\n}\n\nfunction switchInputFields(setA: string[], setB: string[]) {\n  for (const i of range(setA.length)) {\n    const fielda = document.getElementById(setA[i]) as HTMLValuedElement;\n    const fieldb = document.getElementById(setB[i]) as HTMLValuedElement;\n    if (!fielda || !fieldb) break;\n    const oldFieldAValue = fielda.value;\n    fielda.value = fieldb.value;\n    fieldb.value = oldFieldAValue;\n  }\n}\n\n// Form Result Control\n$(document).ready(function () {\n  let buttonpressed: string | undefined;\n  const type = $(\".actiontype\");\n  const form = document.getElementById(\"calculationform\") as HTMLFormElement | null;\n  $(\".submitbutton\").click(function () {\n    buttonpressed = $(this).attr(\"name\");\n  });\n  if (form) form.onsubmit = async (e) => {\n    e.preventDefault();\n\n    type.attr(\"name\", buttonpressed ?? null);\n    const url = form.attributes.getNamedItem(\"action\")?.textContent;\n\n    if (!url) return;\n    const targetFormInputElems = document.getElementsByClassName(\"form-control\") as HTMLCollectionOf<Exclude<HTMLValuedElement, null>>;\n    const targetFormInputs = Object.entries(targetFormInputElems).filter(([key, value]) => {\n      try {\n        const i = parseInt(key);\n        return !isNaN(i);\n      }\n      catch {\n        return false;\n      }\n    }).reduce((acc, [, value]) => ({ ...acc, [value.id]: value.value }), {} as Record<string, string>);\n\n    const errorElem = $(\"[id*='error']\");\n    const helpElem = $(\"[id*='help']\");\n\n    // Clear errors\n    errorElem.attr(\"style\", \"display: none;\");\n    errorElem.toArray().forEach(elem => { elem.innerText = \"\"; });\n\n    const result = await fetch(url, {\n      method: \"POST\", body: $(\"#calculationform\").serialize(), headers: {\n        \"Content-Type\":\n          \"application/x-www-form-urlencoded; charset=UTF-8\"\n      }\n    });\n\n    if (result.ok) {\n      const data = await result.json();\n      if (typeof data == \"object\" && data.error) {\n        delete data.error;\n        // Assign each error to the appropriate field\n        errorElem.toArray().forEach(element => {\n          const fieldName = /.*(?=error)/.exec(element.id)?.[0] ?? \"\";\n          if (typeof data[fieldName] === \"string\") element.innerText = data[fieldName];\n        });\n        errorElem.removeAttr(\"style\");\n        helpElem.attr(\"style\", \"display: none;\")\n        return;\n      }\n      // Display the result\n      const outputtext = $(\"#outputtext\");\n      if (data instanceof Array) {\n        outputtext.val(data.join(\"|\"));\n      } else if (typeof data === \"object\") {\n        outputtext.val(Object\n          .entries(data)\n          .map(([key, value]) =>\n            `key: ${key}, value: ${value}`)\n          .join(\"|\"));\n      } else {\n        outputtext.val(`${data}`);\n      }\n      $(\"[id*='help']\").removeAttr(\"style\");\n      const resultcard = $(\".resultcard\");\n      resultcard.removeAttr(\"style\");\n      if (data !== \"Process Execution Failed\")\n        outputtext.removeClass(\"text-danger\");\n      else {\n        outputtext.addClass(\"text-danger\");\n        errorElem.removeAttr(\"style\");\n      }\n    }\n  }\n});\n"]}