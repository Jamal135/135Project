{"version":3,"file":"main.js","sourceRoot":"","sources":["../ts/main.ts"],"names":[],"mappings":"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","sourcesContent":["type HTMLValuedElement = HTMLElement & { value: string, select: () => void } | null;\r\n\r\n// Website Scroll Position\r\ndocument.addEventListener(\"DOMContentLoaded\", function (event) {\r\n  let scrollpos = localStorage.getItem(\"scrollpos\");\r\n  if (scrollpos) window.scrollTo(0, parseInt(scrollpos));\r\n});\r\n\r\nwindow.onbeforeunload = function (e) {\r\n  localStorage.setItem(\"scrollpos\", `${window.scrollY}`);\r\n};\r\n\r\n// Website Themes\r\nconst themes = {\r\n  purple: {\r\n    primary: \"#4c237e\",\r\n    secondary: \"#2e154c\",\r\n    homeimage: \"url(images/home_purple.svg)\",\r\n  },\r\n  orange: {\r\n    primary: \"#d3671d\",\r\n    secondary: \"#7f3e11\",\r\n    homeimage: \"url(images/home_orange.svg)\",\r\n  },\r\n  yellow: {\r\n    primary: \"#e0b12d\",\r\n    secondary: \"#8d6d15\",\r\n    homeimage: \"url(images/home_yellow.svg)\",\r\n  },\r\n  brown: {\r\n    primary: \"#a16b4c\",\r\n    secondary: \"#61402e\",\r\n    homeimage: \"url(images/home_brown.svg)\",\r\n  },\r\n  black: {\r\n    primary: \"#3b363f\",\r\n    secondary: \"#232026\",\r\n    homeimage: \"url(images/home_black.svg)\",\r\n  },\r\n  green: {\r\n    primary: \"#249465\",\r\n    secondary: \"#16593d\",\r\n    homeimage: \"url(images/home_green.svg)\",\r\n  },\r\n  pink: {\r\n    primary: \"#fa4664\",\r\n    secondary: \"#bb0523\",\r\n    homeimage: \"url(images/home_pink.svg)\",\r\n  },\r\n  blue: {\r\n    primary: \"#2575aa\",\r\n    secondary: \"#164666\",\r\n    homeimage: \"url(images/home_blue.svg)\",\r\n  },\r\n  red: {\r\n    primary: \"#c95252\",\r\n    secondary: \"#812828\",\r\n    homeimage: \"url(images/home_red.svg)\",\r\n  },\r\n};\r\n\r\ntype Theme = keyof typeof themes;\r\ntype ThemeData = typeof themes[Theme];\r\n\r\n$(document).on(\"change\", \"#theme\", function () {\r\n  const theme = $(\"#theme\").val() as Theme;\r\n  localStorage.setItem(\"theme\", theme);\r\n  loadTheme();\r\n});\r\n\r\nfunction loadTheme() {\r\n  const theme = localStorage.getItem(\"theme\") as Theme;\r\n  if (!theme) return;\r\n  const root = document.querySelector(\":root\") as HTMLBodyElement;\r\n  root.style.setProperty(\"--primary\", themes[theme][\"primary\"]);\r\n  root.style.setProperty(\"--secondary\", themes[theme][\"secondary\"]);\r\n  root.style.setProperty(\"--homeimage\", themes[theme][\"homeimage\"]);\r\n}\r\nloadTheme();\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  const theme = localStorage.getItem(\"theme\") as Theme | null ?? \"pink\";\r\n  ($(\"#theme\") as unknown as HTMLElement & { selectpicker: (val: string, theme: keyof typeof themes) => void }).selectpicker(\"val\", theme);\r\n});\r\n\r\n// Form JS Buttons\r\nfunction eraseInputText(targetelement: string) {\r\n  const target = document.getElementById(targetelement) as HTMLValuedElement;\r\n  if (target) target.value = \"\";\r\n}\r\n\r\nfunction moveToInput() {\r\n  const outputTextElement = document.getElementById(\"outputtext\") as HTMLValuedElement;\r\n  const inputTextElement = document.getElementById(\"inputtext\") as HTMLValuedElement;\r\n  if (outputTextElement && inputTextElement) {\r\n    const text = outputTextElement.value;\r\n    inputTextElement.value = text;\r\n  }\r\n}\r\n\r\nfunction copyToClipboard() {\r\n  const textarea = document.getElementById(\"outputtext\") as HTMLValuedElement;\r\n  if (!textarea) return;\r\n  textarea.select();\r\n  document.execCommand(\"copy\");\r\n}\r\n\r\nconst range = (end: number, start = 0, step = 1) => {\r\n  const keys = new Array(end).keys();\r\n  return Array.from(keys).slice(start).map(val => val * step);\r\n}\r\n\r\nfunction switchInputFields(setA: string[], setB: string[]) {\r\n  for (const i of range(setA.length)) {\r\n    const fielda = document.getElementById(setA[i]) as HTMLValuedElement;\r\n    const fieldb = document.getElementById(setB[i]) as HTMLValuedElement;\r\n    if (!fielda || !fieldb) break;\r\n    const oldFieldAValue = fielda.value;\r\n    fielda.value = fieldb.value;\r\n    fieldb.value = oldFieldAValue;\r\n  }\r\n}\r\n\r\n// Form Result Control\r\n$(document).ready(function () {\r\n  let buttonpressed: string | undefined;\r\n  const type = $(\".actiontype\");\r\n  const form = document.getElementById(\"calculationform\") as HTMLFormElement | null;\r\n  imageForm(document.getElementById(\"imageform\") as unknown as HTMLFormElement);\r\n  $(\".submitbutton\").click(function () {\r\n    buttonpressed = $(this).attr(\"name\");\r\n  });\r\n  if (form) form.onsubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    type.attr(\"name\", buttonpressed ?? null);\r\n    const url = form.attributes.getNamedItem(\"action\")?.textContent;\r\n\r\n    if (!url) return;\r\n    const targetFormInputElems = document.getElementsByClassName(\"form-control\") as HTMLCollectionOf<Exclude<HTMLValuedElement, null>>;\r\n    const targetFormInputs = Object.entries(targetFormInputElems).filter(([key, value]) => {\r\n      try {\r\n        const i = parseInt(key);\r\n        return !isNaN(i);\r\n      }\r\n      catch {\r\n        return false;\r\n      }\r\n    }).reduce((acc, [, value]) => ({ ...acc, [value.id]: value.value }), {} as Record<string, string>);\r\n\r\n    const errorElem = $(\"[id*='error']\");\r\n    const helpElem = $(\"[id*='help']\");\r\n\r\n    // Clear errors\r\n    errorElem.attr(\"style\", \"display: none;\");\r\n    errorElem.toArray().forEach(elem => { elem.innerText = \"\"; });\r\n\r\n    const result = await fetch(url, {\r\n      method: \"POST\", body: $(\"#calculationform\").serialize(), headers: {\r\n        \"Content-Type\":\r\n          \"application/x-www-form-urlencoded; charset=UTF-8\"\r\n      }\r\n    });\r\n\r\n    if (result.ok) {\r\n      const data = await result.json();\r\n      if (typeof data == \"object\" && data.error) {\r\n        delete data.error;\r\n        // Assign each error to the appropriate field\r\n        errorElem.toArray().forEach(element => {\r\n          const fieldName = /.*(?=error)/.exec(element.id)?.[0] ?? \"\";\r\n          if (typeof data[fieldName] === \"string\") element.innerText = data[fieldName];\r\n        });\r\n        errorElem.removeAttr(\"style\");\r\n        helpElem.attr(\"style\", \"display: none;\")\r\n        return;\r\n      }\r\n      // Display the result\r\n      const outputtext = $(\"#outputtext\");\r\n      if (data instanceof Array) {\r\n        outputtext.val(data.join(\"|\"));\r\n      } else if (typeof data === \"object\") {\r\n        outputtext.val(Object\r\n          .entries(data)\r\n          .map(([key, value]) =>\r\n            `key: ${key}, value: ${value}`)\r\n          .join(\"|\"));\r\n      } else {\r\n        outputtext.val(`${data}`);\r\n      }\r\n      $(\"[id*='help']\").removeAttr(\"style\");\r\n      const resultcard = $(\".resultcard\");\r\n      resultcard.removeAttr(\"style\");\r\n      if (data !== \"Process Execution Failed\")\r\n        outputtext.removeClass(\"text-danger\");\r\n      else {\r\n        outputtext.addClass(\"text-danger\");\r\n        errorElem.removeAttr(\"style\");\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\n/**\r\n * @param file The file object that should be serialised\r\n * @returns A promise of a base64 string\r\n */\r\nconst serialiseFile = async (file: File): Promise<string> => \r\n  new Uint8Array(await file.arrayBuffer()).reduce((acc, curr) => \r\n    acc.concat(String.fromCharCode(curr))\r\n  , \"\");\r\n\r\n/**\r\n * Configures the submission of an imageform element\r\n * @param form A selected image form element\r\n */\r\nconst imageForm = (form: HTMLFormElement) => {\r\n  form.onsubmit = (async submission => {\r\n    submission.preventDefault();\r\n    const target = submission.target as unknown as HTMLFormElement;\r\n    const inputs = Object.values(target.getElementsByClassName(\"sendableinput\")) as unknown as HTMLInputElement[];\r\n    const selectedFiles: (File | null)[] = inputs.filter(input => input.className.includes(\"imageinput\")).map(\r\n      imageInput => imageInput.files?.item(0) ?? null).flat(1);\r\n    const formData = {images: await Promise.all(selectedFiles.map(async file => file ? await serialiseFile(file) : null)),\r\n      alpha: inputs[0].value\r\n    }\r\n    const result = await fetch(\"\", {method: \"POST\", body: JSON.stringify(formData)});\r\n    if (result.ok) {\r\n      \r\n    }\r\n    else {\r\n\r\n    }\r\n  });\r\n}"]}